{"version":3,"file":"index.esm.js","sources":["../src/components/FieldCheckbox/FieldCheckbox.js","../src/components/FieldColor/FieldColor.js","../src/components/FieldSelect/FieldSelect.js","../src/components/SubmitButton/SubmitButton.js","../src/components/LoadingBox/LoadingBox.js","../src/components/Table/SectionHeader.js","../src/components/Paginator/Paginator.js","../src/components/TableFilterForm/FieldPair.js","../src/components/FormWrapper/FormWrapper.js","../src/components/TableFilterForm/TableFilterForm.js","../src/components/Table/Table.js","../src/components/MultiValueSelect/MultiValueSelect.js","../src/renderField.js"],"sourcesContent":["import React from 'react';\r\nimport { FormControlLabel, Checkbox} from \"@material-ui/core\";\r\nimport autobind from 'class-autobind';\r\n\r\nexport default class FieldCheckbox extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    autobind(this);\r\n    this.state = {\r\n      checked: !!props.checked\r\n    }\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.props.onChange(e);\r\n    this.setState({\r\n      checked: !this.state.checked\r\n    })\r\n  };\r\n\r\n  render() {\r\n    const { label, name } = this.props;\r\n    return(\r\n      <FormControlLabel\r\n        control={\r\n          <Checkbox\r\n            checked={this.state.checked}\r\n            color=\"default\"\r\n            onChange={this.handleChange}\r\n            value={name}\r\n          />\r\n        }\r\n        label={label}\r\n      />\r\n    )\r\n  }\r\n\r\n}","import React from 'react';\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport autobind from 'class-autobind';\r\nimport { SketchPicker } from \"react-color\";\r\nimport { TextField } from \"@material-ui/core\";\r\n\r\nconst styles = theme => ({\r\n  title: {\r\n    width: '500px',\r\n    backgroundColor: '#edeeef',\r\n  },\r\n  colorField: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n  },\r\n  colorDiv: {\r\n    marginTop: \"15px\",\r\n    marginBottom: \"4px\",\r\n    width: '38px',\r\n    height: '38px',\r\n    marginLeft: '10px',\r\n    border: '1px solid #edeeef',\r\n    display: \"flex-inline\"\r\n  },\r\n  colorPicker: {\r\n    position: 'absolute',\r\n    left: '155px',\r\n    top: '25px',\r\n    zIndex: 1\r\n  },\r\n  colorWrapper: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  notes: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass FieldColor extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    autobind(this);\r\n    this.state = {\r\n      openColorPicker: false,\r\n    }\r\n  }\r\n\r\n  toggleColorPicker() {\r\n    this.setState({openColorPicker: !this.state.openColorPicker})\r\n  }\r\n\r\n  handleColorChangeComplete = (color) => {\r\n    this.props.input.onBlur(color.hex);\r\n    this.toggleColorPicker();\r\n  };\r\n\r\n  handleInputChange = (e) => {\r\n    this.props.input.onBlur(e.target.value);\r\n  };\r\n\r\n  render() {\r\n    const {classes, input, label, placeholder} = this.props;\r\n    const {openColorPicker} = this.state;\r\n    return(\r\n      <div className={classes.colorField}>\r\n          <TextField\r\n            margin=\"dense\"\r\n            name={input.name}\r\n            id={input.id}\r\n            value={input.value}\r\n            label={ label }\r\n            type=\"text\"\r\n            placeholder={ placeholder}\r\n            onChange={this.handleInputChange}\r\n            // InputProps={{ style: { color: input.value } }}\r\n          />\r\n          <div\r\n            className={classes.colorDiv}\r\n            style={{backgroundColor: input.value }}\r\n            onClick={this.toggleColorPicker}\r\n          ></div>\r\n          {openColorPicker && <SketchPicker\r\n            className={classes.colorPicker}\r\n            color={input.value}\r\n            onChangeComplete={this.handleColorChangeComplete}\r\n          />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(FieldColor);\r\n\r\n","import React, { useEffect } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport Select from \"react-select\";\r\nimport { emphasize, useTheme } from \"@material-ui/core/styles\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { Typography, TextField, Paper, Chip } from \"@material-ui/core\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { Cancel } from \"@material-ui/icons\";\r\nimport PropTypes from \"prop-types\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport AccountCircle from \"@material-ui/core/SvgIcon\";\r\nimport isBoolean from 'lodash/isBoolean';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 250\r\n  },\r\n  input: {\r\n    display: \"flex\",\r\n    padding: 0,\r\n    height: \"auto\"\r\n  },\r\n  valueContainer: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    overflow: \"hidden\"\r\n  },\r\n  chip: {\r\n    margin: theme.spacing(0.5, 0.25)\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[300]\r\n        : theme.palette.grey[700],\r\n      0.08\r\n    )\r\n  },\r\n  noOptionsMessage: {\r\n    padding: theme.spacing(1, 2)\r\n  },\r\n  singleValue: {\r\n    fontSize: 16\r\n  },\r\n  placeholder: {\r\n    position: \"absolute\",\r\n    left: 2,\r\n    bottom: 6,\r\n    fontSize: 16\r\n  },\r\n  paper: {\r\n    position: \"absolute\",\r\n    zIndex: 1,\r\n    marginTop: theme.spacing(1),\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  divider: {\r\n    height: theme.spacing(2)\r\n  }\r\n}));\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nNoOptionsMessage.propTypes = {\r\n  children: PropTypes.node,\r\n  innerProps: PropTypes.object,\r\n  selectProps: PropTypes.object.isRequired\r\n};\r\n\r\nfunction inputComponent({inputRef, ...props}) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\ninputComponent.propTypes = {\r\n  inputRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\r\n};\r\n\r\nfunction Control(props) {\r\n  const {\r\n    children,\r\n    innerProps,\r\n    innerRef,\r\n    selectProps: {classes, TextFieldProps}\r\n  } = props;\r\n\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: classes.input,\r\n          ref: innerRef,\r\n          children,\r\n          ...innerProps\r\n        }\r\n      }}\r\n      {...TextFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nControl.propTypes = {\r\n  children: PropTypes.node,\r\n  innerProps: PropTypes.object,\r\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\r\n  selectProps: PropTypes.object.isRequired\r\n};\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      ref={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nOption.propTypes = {\r\n  children: PropTypes.node,\r\n  innerProps: PropTypes.object,\r\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\r\n  isFocused: PropTypes.bool,\r\n  isSelected: PropTypes.bool\r\n};\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nPlaceholder.propTypes = {\r\n  children: PropTypes.node,\r\n  innerProps: PropTypes.object,\r\n  selectProps: PropTypes.object.isRequired\r\n};\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography\r\n      className={props.selectProps.classes.singleValue}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nSingleValue.propTypes = {\r\n  children: PropTypes.node,\r\n  innerProps: PropTypes.object,\r\n  selectProps: PropTypes.object.isRequired\r\n};\r\n\r\nfunction ValueContainer(props) {\r\n  return (\r\n    <div className={props.selectProps.classes.valueContainer}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\nValueContainer.propTypes = {\r\n  children: PropTypes.node,\r\n  selectProps: PropTypes.object.isRequired\r\n};\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={clsx(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<Cancel {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nMultiValue.propTypes = {\r\n  children: PropTypes.node,\r\n  isFocused: PropTypes.bool,\r\n  removeProps: PropTypes.object.isRequired,\r\n  selectProps: PropTypes.object.isRequired\r\n};\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper\r\n      square\r\n      className={props.selectProps.classes.paper}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nMenu.propTypes = {\r\n  children: PropTypes.node,\r\n  innerProps: PropTypes.object,\r\n  selectProps: PropTypes.object\r\n};\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  // Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer\r\n};\r\n\r\nexport default function IntegrationReactSelect(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [single, setSingle] = React.useState(null);\r\n  const [multi, setMulti] = React.useState(null);\r\n  const [loading, setLoading] = React.useState(null);\r\n\r\n  useEffect(() => {\r\n    if (props.onMount) {\r\n      setLoading(true);\r\n      props.onMount().then(() => {\r\n          setLoading(false);\r\n        }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.hasOwnProperty('loading') && isBoolean(props.loading)) {\r\n      setLoading(props.loading)\r\n    }\r\n  });\r\n\r\n  function handleChangeSingle(value) {\r\n    setSingle(value);\r\n    props.input.onChange(value);\r\n  }\r\n\r\n  function handleChangeMulti(value) {\r\n    setMulti(value);\r\n    props.input.onChange(value);\r\n  }\r\n\r\n  const selectStyles = {\r\n    input: base => ({\r\n      ...base,\r\n      color: theme.palette.text.primary,\r\n      \"& input\": {\r\n        font: \"inherit\"\r\n      }\r\n    })\r\n  };\r\n\r\n  const id = props.id\r\n    ? `react-select-${props.id}`\r\n    : `react-select-${props.name}`;\r\n\r\n  let defaultValue = props.defaultValue ? { //this needs value and label to work for some reason.\r\n    value: props.defaultValue,\r\n    label: props.defaultValue\r\n  } : '';\r\n\r\n  return (\r\n    <Select\r\n      {...props}\r\n      value={props.input.value || defaultValue}\r\n      isDisabled={props.disabled}\r\n      classes={classes}\r\n      styles={selectStyles}\r\n      inputId={id}\r\n      isLoading={loading}\r\n      TextFieldProps={{\r\n        error: props.error,\r\n        label: props.label,\r\n        InputLabelProps: {\r\n          htmlFor: id,\r\n          shrink: true,\r\n          error: props.error,\r\n        },\r\n        placeholder: props.placeholder,\r\n        disabled: props.disabled,\r\n      }}\r\n      InputProps={{\r\n        startAdornment: (\r\n          <InputAdornment position=\"start\">\r\n            <AccountCircle/>\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      options={props.options || []}\r\n      components={components}\r\n      onChange={props.isMulti ? handleChangeMulti : handleChangeSingle}\r\n      onBlur={() => props.input.onBlur(props.input.value)}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { makeStyles } from \"@material-ui/styles/index\";\r\nimport PropTypes from 'prop-types';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles({\r\n  progress: {\r\n    marginRight: \"5px\"\r\n  }\r\n});\r\n\r\n\r\nconst SubmitButton = (props) => {\r\n\r\n  const classes = useStyles();\r\n\r\n  const renderProgress = (submitting) => {\r\n    if (submitting) {\r\n      return (\r\n        <CircularProgress size={20} className={classes.progress}/>\r\n      )\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Button {...props}>\r\n      {\r\n        renderProgress(props.is_submitting)\r\n      }\r\n      {props.children}\r\n    </Button>\r\n  )\r\n};\r\n\r\nSubmitButton.propTypes = {\r\n  is_submitting: PropTypes.number\r\n};\r\n\r\nexport default SubmitButton;","import React from 'react';\r\nimport {makeStyles} from \"@material-ui/styles\";\r\nimport {CircularProgress} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    top: 0,\r\n    left: 0,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    overflow: \"hidden\",\r\n  },\r\n  overlay: {\r\n    position: \"absolute\",\r\n    opacity: 0.3,\r\n    backgroundColor: '#CCCCCC',\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  }\r\n});\r\n\r\nconst LoadingBox = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.root}>\r\n        <div className={classes.overlay}/>\r\n        <CircularProgress />\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n};\r\n\r\nexport default LoadingBox;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport {makeStyles} from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    fontSize: \"16px\",\r\n    fontWeight: 600,\r\n  },\r\n});\r\n\r\nconst SectionHeader = (props) => {\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        <TableCell colSpan={props.colSpan} className={classes.root}>\r\n          {props.sectionLabel}\r\n        </TableCell>\r\n      </TableRow>\r\n    </TableHead>\r\n  )\r\n};\r\n\r\nexport default SectionHeader;\r\n\r\nSectionHeader.defaultProps = {\r\n  colspan: 2,\r\n};\r\n\r\nSectionHeader.propTypes = {\r\n  sectionLabel: PropTypes.string.isRequired,\r\n  colSpan: PropTypes.number,\r\n};","import React from \"react\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Paginator extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  handleChangePage = async (event, newPage) => {\r\n    this.props.updatePaginationCallback({\r\n      page: newPage,\r\n    });\r\n  };\r\n\r\n  handleChangeRowsPerPage = async (event) => {\r\n    this.props.updatePaginationCallback({\r\n      page: 0,\r\n      rowsPerPage: +event.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {totalNumberOfEntities, rowsPerPage, page} = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <TablePagination\r\n          rowsPerPageOptions={[10, 20, 50]}\r\n          component=\"div\"\r\n          count={totalNumberOfEntities}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          backIconButtonProps={{\r\n            'aria-label': 'Previous Page',\r\n          }}\r\n          nextIconButtonProps={{\r\n            'aria-label': 'Next Page',\r\n          }}\r\n          onChangePage={this.handleChangePage}\r\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n        />\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nPaginator.propTypes = {\r\n  page: PropTypes.number,\r\n  rowsPerPage: PropTypes.number,\r\n  totalNumberOfEntities: PropTypes.number,\r\n  updatePaginationCallback: PropTypes.func,\r\n};\r\n\r\nPaginator.defaultProps = {\r\n  page: 0,\r\n  rowsPerPage: 10,\r\n  totalNumberOfEntities: 10,\r\n  updatePaginationCallback: () => {},\r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport {Field} from \"redux-form\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport {renderField} from \"../../renderField\";\r\n\r\nconst useStyle = makeStyles({\r\n  container: {\r\n    margin: '5px',\r\n    display: 'flex',\r\n    position: 'relative',\r\n    paddingTop: '30px'\r\n  },\r\n  field: {\r\n    margin: '5px'\r\n  }\r\n});\r\n\r\n\r\nexport const FieldPair = ({field, defaultValue, options, removeCallback, index}) => {\r\n  const classes = useStyle();\r\n  return (\r\n    <div className={`${index}-sort-pair`}>\r\n        <div>\r\n          <Field\r\n            name={`${field}.fieldName`}\r\n            type=\"chosenSelect\"\r\n            component={renderField}\r\n            options={options}\r\n            label=\"Sort\"\r\n            className={classes.field}\r\n          />\r\n          <Field\r\n            name={`${field}.direction`}\r\n            type=\"chosenSelect\"\r\n            component={renderField}\r\n            options={[{label: \"ASC\", key: \"ASC\"},{label: \"DESC\", key: \"DESC\"} ]}\r\n            label=\"Direction\"\r\n            className={classes.field}\r\n          />\r\n          <ClearIcon className={`${index}-sort-pair-clear-icon`} onClick={removeCallback} />\r\n        </div>\r\n    </div>\r\n  )\r\n};","import React from 'react';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {makeStyles} from \"@material-ui/styles\";\r\n\r\nconst useStyle = makeStyles({\r\n  paper: {\r\n    padding: '1em',\r\n  }\r\n});\r\n\r\nconst FormWrapper = (props) => {\r\n\r\n  const classes = useStyle();\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      {props.children}\r\n    </Paper>\r\n  )\r\n};\r\n\r\nexport default FormWrapper;","import React from 'react';\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport {renderField} from \"../../renderField\";\r\nimport {Field, FieldArray, reduxForm, change, unregisterField, arrayRemove } from \"redux-form\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {withStyles} from \"@material-ui/core\";\r\nimport SubmitButton from \"../SubmitButton\";\r\nimport {FieldPair} from \"./FieldPair\";\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport FormWrapper from \"../FormWrapper\";\r\nimport {connect} from \"react-redux\";\r\nimport PropTypes from 'prop-types';\r\nimport _ from 'lodash';\r\n\r\nconst styles = (theme) => ({\r\n  addCircle: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  }\r\n});\r\n\r\nconst FilterFormField = (props) => {\r\n  switch (props.type) {\r\n    case 'min-max':\r\n      return (\r\n        <React.Fragment>\r\n          <Field\r\n            type=\"text\"\r\n            component={renderField}\r\n            name={`${props.name}_min`}\r\n            key={`${props.label}_min`}\r\n            label={`${props.label} Min`}\r\n          >\r\n            {`${props.label} Min`}\r\n          </Field>\r\n          <Field\r\n            type=\"text\"\r\n            component={renderField}\r\n            name={`${props.name}_max`}\r\n            key={`${props.label}_max`}\r\n            label={`${props.label} Max`}\r\n          >\r\n            {`${props.label} Max`}\r\n          </Field>\r\n        </React.Fragment>\r\n      );\r\n    default:\r\n      return (\r\n        <Field\r\n          type=\"text\"\r\n          component={renderField}\r\n          name={props.name}\r\n          key={props.key}\r\n          label={props.label}\r\n        >\r\n          {props.label}\r\n        </Field>\r\n      )\r\n  }\r\n};\r\n\r\nclass TableFilterForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAdvanced: false,\r\n      submittedData: {\"sortPairs\": props.defaultSort},\r\n    };\r\n  };\r\n\r\n  renderField = field => (\r\n    <FilterFormField\r\n      name={field.name}\r\n      key={field.label}\r\n      label={field.label}\r\n      type={field.filter.type}\r\n    >\r\n      {field.label}\r\n    </FilterFormField>\r\n  );\r\n\r\n  renderBasicFilters = () => {\r\n    return this.props.tableDefinition\r\n      .filter((field) => {\r\n        return field.hasOwnProperty(\"filter\") && field.filter.hasOwnProperty(\"type\") && field.filter.hasOwnProperty(\"basicFilter\")\r\n      })\r\n      .map(this.renderField);\r\n  };\r\n\r\n  renderAdvancedFilters = () => {\r\n    if (this.state.isAdvanced) {\r\n      const sortFields = this.props.tableDefinition\r\n        .filter((field) => {\r\n          return field.hasOwnProperty(\"sort\") && field.filter.hasOwnProperty(\"type\")\r\n        });\r\n      return (\r\n        <div>\r\n          {\r\n            this.props.tableDefinition\r\n              .filter((field) => {\r\n                return field.hasOwnProperty(\"filter\") && field.filter.hasOwnProperty(\"type\") && !field.filter.hasOwnProperty(\"basicFilter\")\r\n              })\r\n              .map(this.renderField)\r\n          }\r\n          <Typography variant=\"h6\">Sort</Typography>\r\n          <FieldArray name=\"sortPairs\" availableFields={sortFields} component={this.renderPairs}/>\r\n        </div>\r\n      )\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderPairs = ({fields, availableFields}) => {\r\n    const options = availableFields.map(field => ({\r\n      value: field.name, label: field.label\r\n    }));\r\n    return (\r\n      <React.Fragment>\r\n        {\r\n          fields.map((field, index) => (<FieldPair key={index} field={field} options={options} removeCallback={() => fields.remove(index)}/>))\r\n        }\r\n        <div className={\"add-new-sort-pair\"}>\r\n          <AddCircleIcon onClick={() => fields.push()}/>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  };\r\n\r\n  renderChips = (submittedData) => {\r\n    if (!this.state.isAdvanced) {\r\n      return (\r\n        <Paper>\r\n          {Object.keys(submittedData).map((key) => {\r\n            if (key === \"sortPairs\") {\r\n              return submittedData[key].map(element => {\r\n                return (\r\n                  <Chip\r\n                    key={element.fieldName}\r\n                    label={`${element.fieldName.label}: ${element.direction.label}`}\r\n                    onDelete={this.handleChipDeleteForSort(element)}\r\n                    color=\"secondary\"\r\n                  />\r\n                )\r\n              });\r\n            }\r\n            else {\r\n              return (\r\n                <Chip\r\n                  key={key}\r\n                  label={`${key}: ${_.isObject(submittedData[key]) ? Object.values(submittedData[key]) : submittedData[key]}`}\r\n                  onDelete={this.handleChipDeleteForFilter(key)}\r\n                  color=\"primary\"\r\n                />\r\n              )\r\n            }\r\n          })}\r\n        </Paper>\r\n      )\r\n    }\r\n    return null;\r\n  };\r\n\r\n  onClickExpandHandler = (event) => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      isAdvanced: !this.state.isAdvanced\r\n    })\r\n  };\r\n\r\n  handleChipDeleteForSort = (element) => () => {\r\n    if(this.state.submittedData.hasOwnProperty(\"sortPairs\")) {\r\n      const keyOfElementInSortPairs = this.state.submittedData.sortPairs.indexOf(element);\r\n      const submittedData = _.omit(this.state.submittedData, \"sortPairs\");\r\n      submittedData[\"sortPairs\"] = this.state.submittedData.sortPairs.filter((value) => {return value !== element });\r\n      this.setState({submittedData: submittedData},\r\n        () => { this.props.onSubmit(this.state.submittedData) });\r\n      this.props.arrayRemoveElement('sortPairs', keyOfElementInSortPairs);\r\n    }\r\n  };\r\n\r\n  handleChipDeleteForFilter = (keyChipToDelete) => () => {\r\n    if(this.state.submittedData.hasOwnProperty(keyChipToDelete)) {\r\n      const submittedData = _.omit(this.state.submittedData, keyChipToDelete);\r\n      this.setState({submittedData: submittedData},\r\n        () => { this.props.onSubmit(this.state.submittedData) });\r\n    }\r\n  };\r\n\r\n  onSubmit = async (formValues) => {\r\n    await this.props.onSubmit(formValues);\r\n    this.setState({submittedData: formValues});\r\n  };\r\n\r\n  onCancel = () => {\r\n    this.props.destroy('TableFilterForm');\r\n    this.setState({submittedData: {}});\r\n    this.props.onResetCallback();\r\n  };\r\n\r\n  render() {\r\n    const {submitting, classes, fields, submittedData} = this.props;\r\n    const isSubmitting = submitting ? 1 : 0;\r\n    return (\r\n      <FormWrapper>\r\n        <form onSubmit={this.props.handleSubmit(this.onSubmit)} autoComplete=\"off\">\r\n          {this.renderBasicFilters()}\r\n          {this.renderAdvancedFilters()}\r\n          <div>\r\n            <Button onClick={this.onClickExpandHandler}>Advanced Filters</Button>\r\n          </div>\r\n          {this.renderChips(this.state.submittedData)}\r\n          <SubmitButton type=\"submit\" variant=\"contained\" color=\"primary\" is_submitting={isSubmitting}\r\n                        disabled={!!submitting}>\r\n            Filter\r\n          </SubmitButton>\r\n          <Button onClick={this.onCancel}>\r\n            Cancel\r\n          </Button>\r\n        </form>\r\n      </FormWrapper>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  return {\r\n    initialValues: {\r\n      sortPairs: ownProps.defaultSort\r\n    },\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changeFieldValue: (field, value) => {\r\n      dispatch(change('TableFilterForm', field, value))\r\n    },\r\n    arrayRemoveElement: (field, index) => {\r\n      dispatch(arrayRemove('TableFilterForm', field, index))\r\n    }\r\n  }\r\n};\r\n\r\nTableFilterForm.propTypes = {\r\n  onResetCallback: PropTypes.func\r\n};\r\n\r\nTableFilterForm = reduxForm({\r\n  form: 'TableFilterForm'\r\n})(TableFilterForm);\r\n\r\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(TableFilterForm));","import React from 'react';\r\nimport autobind from 'class-autobind';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { LinearProgress } from \"@material-ui/core\";\r\nimport LoadingBox from \"../LoadingBox\";\r\nimport _ from 'lodash';\r\nimport SectionHeader from \"./SectionHeader\";\r\nimport Paginator from \"../Paginator\";\r\nimport TableFilterForm from \"../TableFilterForm\";\r\n\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n    overflowX: 'auto',\r\n    position: \"relative\",\r\n  },\r\n  row: {\r\n    '&:nth-of-type(odd)': {\r\n      backgroundColor: theme.palette.background.default,\r\n    },\r\n  },\r\n});\r\n\r\nconst CustomTableCell = withStyles(theme => ({\r\n  head: {\r\n    backgroundColor: theme.palette.common.black,\r\n    color: theme.palette.common.white,\r\n    padding: \"0px 10px\",\r\n  },\r\n  body: {\r\n    padding: \"0px 10px\",\r\n  },\r\n}))(TableCell);\r\n\r\n\r\nclass BasicTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    autobind(this);\r\n    this._initialize(props);\r\n    this.state = {\r\n      filterOptions: {},\r\n      paginationInfo: {}\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState, nextContent) {\r\n    this._initialize(nextProps);\r\n    return true;\r\n  }\r\n\r\n  _initialize(props) {\r\n    this.items = _.isArray(props.items) ? props.items : Object.values(props.items);\r\n    this.tableDefinition = this._generateTableDefinition(props);\r\n  }\r\n\r\n  _generateTableDefinition(props) {\r\n    if (props.tableDefinition.length) {\r\n      return props.tableDefinition;\r\n    }\r\n    else if (this.items.length) {\r\n\r\n      return Object.keys(this.items[0]).map(key => ({\r\n        label: key.charAt(0).toLocaleUpperCase() + key.slice(1),\r\n        property: key\r\n      }))\r\n    }\r\n    return [];\r\n  }\r\n\r\n  renderSectionHeader() {\r\n    const {sectionLabel} = this.props;\r\n    if (sectionLabel) {\r\n      return <SectionHeader sectionLabel={sectionLabel} colSpan={this.tableDefinition.length}/>\r\n    }\r\n  }\r\n\r\n  renderHeader() {\r\n    let header = this.tableDefinition.map(item => ({label: item['label']}));\r\n    if (header.length) {\r\n      return (\r\n        <TableHead>\r\n          <TableRow>\r\n            {header.map((item, index) => this.renderHeaderCell(item, index))}\r\n          </TableRow>\r\n        </TableHead>\r\n      )\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderBody() {\r\n    return (\r\n      <TableBody>\r\n        {this.items.map((item, index) => this.renderRow(item, index))}\r\n      </TableBody>\r\n    )\r\n\r\n  }\r\n\r\n  renderHeaderCell(itemDefinition, index) {\r\n    return (\r\n      <CustomTableCell key={index} {...itemDefinition}>{itemDefinition['label']}</CustomTableCell>\r\n    )\r\n  }\r\n\r\n  getCellValue(rowDefinition, item) {\r\n\r\n    if (!rowDefinition['property']) {\r\n      return '';\r\n    }\r\n    if (typeof rowDefinition['property'] === 'string') {\r\n      return item[rowDefinition['property']];\r\n    }\r\n    else if (_.isArray(rowDefinition['property'])) {\r\n      return rowDefinition['property'].reduce( (prev, next) => {return prev && prev.hasOwnProperty(next) ? prev[next] : ''}, item);\r\n    }\r\n    else if (_.isFunction(rowDefinition['property'])) {\r\n      return rowDefinition['property'](item);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  renderCell(item, rowDefinition, key) {\r\n    let cellValue = this.getCellValue(rowDefinition, item);\r\n    if (rowDefinition.hasOwnProperty(\"render\")){\r\n      cellValue = rowDefinition['render'](cellValue, item)\r\n    } else if (_.isBoolean(cellValue)){\r\n      cellValue = cellValue ? \"yes\" : \"no\"\r\n    }\r\n    return (\r\n      <CustomTableCell key={key}>{cellValue}</CustomTableCell>\r\n    )\r\n  }\r\n\r\n  renderRow(item, key) {\r\n    const {classes} = this.props;\r\n    return (\r\n\r\n      <TableRow className={classes.row} key={key}>\r\n        {\r\n          this.tableDefinition.map((rowDefinition, index) => this.renderCell(item, rowDefinition, index))\r\n        }\r\n      </TableRow>\r\n    );\r\n  }\r\n\r\n  updatePagination = (paginationInfo) => {\r\n    this.setState({paginationInfo: {...this.state.paginationInfo, ...paginationInfo}}, () => {\r\n      this.props.fetchCallback(this.state.filterOptions, this.state.paginationInfo);\r\n    });\r\n\r\n  };\r\n\r\n  applyFilter = (filterOptions) => {\r\n    this.setState({filterOptions: {...this.state.filterOptions, ...filterOptions}}, () => {\r\n      this.props.fetchCallback(this.state.filterOptions, this.state.paginationInfo);\r\n    })\r\n  };\r\n\r\n  defaultSorts = () => {\r\n    return this.tableDefinition.filter((field) => field.hasOwnProperty('sort') && field.sort.hasOwnProperty('defaultSort')).map((field) => {\r\n      return {\r\n        fieldName: {value: field.name, label: field.label},\r\n        direction: {value: field.sort.defaultSort, label: field.sort.defaultSort},\r\n      };\r\n    });\r\n  };\r\n\r\n  onReset = () => {\r\n    this.setState({\r\n      filterOptions: {},\r\n      paginationInfo: {...this.state.paginationInfo, page: 0, rowsPerPage: this.props.paginatorInfo.rowsPerPage}\r\n    }, () => {\r\n      this.props.fetchCallback({}, {page: 0, rowsPerPage: this.props.paginatorInfo.rowsPerPage});\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {classes, reloading, paginator, filter} = this.props;\r\n    return (\r\n      <Paper className={classes.root}>\r\n        {filter && <TableFilterForm onSubmit={this.applyFilter} tableDefinition={this.props.tableDefinition}\r\n                                    defaultSort={this.defaultSorts()} onResetCallback={this.onReset}/>\r\n        }\r\n        <Table className={classes.table}>\r\n          {this.renderSectionHeader()}\r\n          {this.renderHeader()}\r\n          {this.renderBody()}\r\n        </Table>\r\n        { reloading && <LoadingBox/> }\r\n        { reloading && <LinearProgress/> }\r\n        { paginator && <Paginator {...this.state.paginationInfo}/> }\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nBasicTable.propTypes = {\r\n  items: PropTypes.oneOfType([\r\n    PropTypes.object,\r\n    PropTypes.array,\r\n  ]),\r\n  tableDefinition: PropTypes.array,\r\n  sectionLabel: PropTypes.string,\r\n  reloading: PropTypes.bool,\r\n  paginator: PropTypes.oneOfType([\r\n    PropTypes.bool,\r\n    PropTypes.object,\r\n  ]),\r\n  fetchCallback: PropTypes.func,\r\n  filter: PropTypes.bool\r\n};\r\n\r\nBasicTable.defaultProps = {\r\n  items: {},\r\n  tableDefinition: [],\r\n  reloading: false,\r\n  paginator: false,\r\n  filter: false,\r\n};\r\n\r\nexport default withStyles(styles)(BasicTable);","import React, {Component} from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport {Grid, Button, IconButton} from \"@material-ui/core\";\r\nimport {AddCircle, Delete} from \"@material-ui/icons\";\r\nimport {Field, formValueSelector, change} from 'redux-form';\r\nimport Table from '../Table/Table';\r\nimport {renderField} from '../../renderField';\r\nimport {connect} from 'react-redux';\r\n\r\nclass MultiValueSelect extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.refField = React.createRef();\r\n  }\r\n\r\n  /**\r\n   * Table definition generator\r\n   *\r\n   * It will add \"Actions\" column automatically.\r\n   *\r\n   * @returns {*}\r\n   */\r\n  generateTableDefinition = () => {\r\n    const {tableDefinition} = this.props;\r\n\r\n    return tableDefinition.map(property => {\r\n      if (_.isObject(property)) {\r\n        return property;\r\n      }\r\n      return {\r\n        label: property,\r\n        property: property\r\n      }\r\n    }).concat([{\r\n      label: 'Actions',\r\n      property: this._tableActions,\r\n    }])\r\n  };\r\n\r\n  /**\r\n   * Helper table actions column.\r\n   *\r\n   * @param {Object} item\r\n   *\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  _tableActions = (item) => {\r\n    return (\r\n      <IconButton aria-label=\"Delete\" onClick={() => this._handleRemove(item)}>\r\n        <Delete style={{color: 'red'}}/>\r\n      </IconButton>\r\n    )\r\n  };\r\n\r\n  /**\r\n   * Remove item action handler.\r\n   *\r\n   * @param {Object} removed_item\r\n   *\r\n   * @private\r\n   */\r\n  _handleRemove = (removed_item) => {\r\n    const {valueProperty, name} = this.props;\r\n    let value = this.getFieldValue();\r\n    value = value.filter((item) => item.value !== removed_item[valueProperty]);\r\n    this.updateFieldValue(name, value);\r\n  };\r\n\r\n  /**\r\n   * Filter options.\r\n   *\r\n   * It will remove all options that were already selected and also those that are not matching selected group.\r\n   *\r\n   * @param {array} options\r\n   *   List of all options.\r\n   * @param {array} exclusions\r\n   *   List of options values that were already selected.\r\n   * @param {false|string} group (optional)\r\n   *   Group name. If provided, options will be filtered to contain only items in this group.\r\n   *   Default is false.\r\n   *\r\n   * @returns {*}\r\n   */\r\n  filterOptions(options, exclusions, group = false) {\r\n    const {valueProperty, groupOptionsBy} = this.props;\r\n    return options.filter((option) => {\r\n      return (!exclusions || exclusions && exclusions.indexOf(option[valueProperty]) < 0) && ((group && option[groupOptionsBy] === group) || !group)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Process an item into an option for select field.\r\n   *\r\n   * @param {Object} rawOption\r\n   *   Option to process.\r\n   *\r\n   * @returns {{value: *, label: string}}\r\n   */\r\n  processOption(rawOption) {\r\n    const {valueProperty} = this.props;\r\n    let labelProperties = _.isString(this.props.labelProperties) ? [this.props.labelProperties] : this.props.labelProperties;\r\n    return {\r\n      value: rawOption[valueProperty],\r\n      label: labelProperties.map(property => rawOption.hasOwnProperty(property) ? rawOption[property] : '').join(' '),\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Group options by values of property provided as \"groupOptionsBy\"\r\n   *\r\n   * @param {array} rawOptions\r\n   *   Raw objects provided for field.\r\n   *\r\n   * @returns {{label: string, options: *}[]}\r\n   */\r\n  groupOptions(rawOptions) {\r\n    const {groupOptionsBy} = this.props;\r\n    let options = rawOptions.reduce((prev, option) => {\r\n      if (option.hasOwnProperty(groupOptionsBy) && !prev.hasOwnProperty(option[groupOptionsBy])) {\r\n        prev[option[groupOptionsBy]] = [];\r\n      }\r\n      prev[option[groupOptionsBy]].push(this.processOption(option));\r\n      return prev;\r\n    }, {});\r\n\r\n    // Group options.\r\n    return Object.keys(options).map(key => {\r\n        return { label: key, options: options[key] };\r\n      },\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get options for main dropdown.\r\n   *\r\n   * @param {array} exclusions\r\n   *   List of values to be excluded from the list.\r\n   *\r\n   * @returns {*}\r\n   */\r\n  getOptions = (exclusions) => {\r\n    const {rawOptions, groupOptionsBy} = this.props;\r\n    if (groupOptionsBy) {\r\n      let filter_group = this.getSelectedGroup();\r\n      return this.groupOptions(this.filterOptions(rawOptions, exclusions, filter_group));\r\n    }\r\n    return this.filterOptions(rawOptions, exclusions).map(option => this.processOption(option));\r\n  };\r\n\r\n  /**\r\n   * Get options for field that allows to filter options by group.\r\n   *\r\n   * @returns {any[]}\r\n   */\r\n  getGroupsFieldOptions() {\r\n    const {rawOptions, groupOptionsBy} = this.props;\r\n    return Object.values(rawOptions.reduce((prev, rawOption) => {\r\n      if (rawOption.hasOwnProperty(groupOptionsBy) && !prev.hasOwnProperty(rawOption[groupOptionsBy])) {\r\n        prev[rawOption[groupOptionsBy]] = {\r\n          value: rawOption[groupOptionsBy],\r\n          label: rawOption[groupOptionsBy],\r\n        };\r\n      }\r\n      return prev;\r\n    }, {}));\r\n  }\r\n\r\n  /**\r\n   * Render filter variant.\r\n   *\r\n   * It will display an additional dropdown to filter options by a particular property.\r\n   *\r\n   * @param exclusions\r\n   * @returns {*}\r\n   */\r\n  renderGroupedOptions(exclusions) {\r\n    const {label, name, groupOptionsBy} = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <Grid item xs={2}>\r\n          <Field\r\n            name={`${name}_items_groups`}\r\n            label={`${groupOptionsBy}`}\r\n            component={renderField}\r\n            type=\"chosenSelect\"\r\n            onChange={() => {\r\n              this.updateFieldValue(`${name}_items`, null);\r\n              this.forceUpdate();\r\n            }}\r\n            options={this.getGroupsFieldOptions()}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={7}>\r\n          <Field\r\n            ref={this.refField}\r\n            name={`${name}_items`}\r\n            label={label}\r\n            component={renderField}\r\n            type=\"chosenSelect\"\r\n            options={this.getOptions(exclusions)}\r\n          />\r\n        </Grid>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Render simple variant.\r\n   *\r\n   * @param exclusions\r\n   * @returns {*}\r\n   */\r\n  renderOptions(exclusions) {\r\n    const {name, label} = this.props;\r\n    return (\r\n      <Grid item xs={9}>\r\n        <Field\r\n          ref={this.refField}\r\n          name={`${name}_items`}\r\n          label={label}\r\n          component={renderField}\r\n          type=\"chosenSelect\"\r\n          options={this.getOptions(exclusions)}\r\n        />\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Get current value of field.\r\n   *\r\n   * @returns {*[]}\r\n   *   Cloned value from state.\r\n   */\r\n  getFieldValue = () => {\r\n    const {getCurrentValue, name} = this.props;\r\n    if (this.refField.current) {\r\n      let form = this.refField.current.context._reduxForm.form;\r\n      const selector = formValueSelector(form);\r\n      let value = getCurrentValue(selector, name) || [];\r\n      return value.slice(0);\r\n    }\r\n    return [];\r\n  };\r\n\r\n  /**\r\n   * Get selected group.\r\n   *\r\n   * @returns {null|string}\r\n   *   Name of selected group.\r\n   */\r\n  getSelectedGroup = () => {\r\n    const {getCurrentValue, name} = this.props;\r\n    if (this.refField.current) {\r\n      let form = this.refField.current.context._reduxForm.form;\r\n      const selector = formValueSelector(form);\r\n      let value = getCurrentValue(selector, `${name}_items_groups`);\r\n      return value ? value.value : null;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Update field value in state.\r\n   *\r\n   * @param {string} field\r\n   *   Field name\r\n   * @param {*} value\r\n   *   Field value.\r\n   */\r\n  updateFieldValue(field, value) {\r\n    const {changeFieldValue} = this.props;\r\n    if (this.refField.current) {\r\n      let form = this.refField.current.context._reduxForm.form;\r\n      changeFieldValue(form, field, value);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {label, name, rawOptions, onChange, groupOptionsBy, valueProperty} = this.props;\r\n    let value = this.getFieldValue();\r\n    let selected_ids = value.map(item => item.value);\r\n    let items = rawOptions.filter(option => selected_ids.indexOf(option[valueProperty]) >= 0);\r\n    return (\r\n      <React.Fragment>\r\n        <Table\r\n          sectionLabel={label}\r\n          items={items}\r\n          tableDefinition={this.generateTableDefinition()}\r\n        />\r\n        <Grid container spacing={1} direction=\"row\" alignItems=\"flex-end\" justify=\"center\">\r\n          {groupOptionsBy && this.renderGroupedOptions(selected_ids)}\r\n          {!groupOptionsBy && this.renderOptions(selected_ids)}\r\n          <Grid item xs={3}>\r\n            <div className=\"actions\">\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  if (this.refField.current.value) {\r\n                    value.push(this.refField.current.value);\r\n                    onChange(value);\r\n                    this.updateFieldValue(`${name}_items`, null);\r\n                    this.updateFieldValue(`${name}_items_groups`, null);\r\n                    this.forceUpdate();\r\n                  }\r\n                }}\r\n              >\r\n                <AddCircle fontSize=\"small\"/>\r\n                {`Add ${label}`}\r\n              </Button>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nMultiValueSelect.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  tableDefinition: PropTypes.array.isRequired,\r\n  labelProperties: PropTypes.oneOfType([PropTypes.array, PropTypes.string]).isRequired,\r\n  changeFieldValue: PropTypes.func,\r\n  getCurrentValue: PropTypes.func,\r\n  rawOptions: PropTypes.array,\r\n  groupOptionsBy: PropTypes.string,\r\n  valueProperty: PropTypes.string,\r\n};\r\n\r\nMultiValueSelect.defaultProps = {\r\n  rawOptions: [],\r\n  valueProperty: 'id',\r\n};\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  const getFieldValue = (selector, name) => {\r\n    return selector(state, name);\r\n  };\r\n  return {\r\n    getCurrentValue: getFieldValue\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n  return {\r\n    changeFieldValue: function(formName, field, value) {\r\n      dispatch(change(formName, field, value))\r\n    }\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MultiValueSelect);","import React from 'react';\r\nimport { TextField, Typography } from \"@material-ui/core\";\r\nimport { FieldCheckbox, FieldSelect, FieldColor } from \"./components\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport _ from 'lodash';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport MultiValueSelect from './components/MultiValueSelect/MultiValueSelect';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  formControl: {\r\n    marginTop: theme.spacing(3),\r\n    width: \"100%\"\r\n  },\r\n  errorMessage: {\r\n    marginBottom: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst RenderErrors = (props) => {\r\n  const classes = useStyles();\r\n  const {error} = props;\r\n  if (_.isArray(error)) {\r\n    return error.map((message, key) =>\r\n      <Typography className={classes.errorMessage} key={key} paragraph color=\"error\">\r\n        {message}\r\n      </Typography>\r\n    )\r\n  }\r\n  else {\r\n    if (_.isString(error)) {\r\n      return (\r\n        <Typography className={classes.errorMessage} paragraph color=\"error\">\r\n          {error}\r\n        </Typography>\r\n      )\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nconst simpleField = ({input, label, type, meta: {touched, error}}) => {\r\n  return (\r\n    <div>\r\n      <label htmlFor={input.name}>\r\n        {label}\r\n      </label>\r\n\r\n      <div>\r\n        <input {...input} placeholder={label} type={type}/>\r\n        {\r\n          touched && error && <RenderErrors error={error} />\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst textField = ({input, label, helperText, type, onChangeHandler, disabled, inputProps, meta: {touched, error}, required}) => {\r\n  return (\r\n    <div>\r\n      <TextField\r\n        {...input}\r\n        value={typeof input.value === 'object' ? input.value.label : input.value}\r\n        autoFocus={!!input.autofocus}\r\n        margin=\"dense\"\r\n        id={input.id}\r\n        label={label + (required ? '*' : '')}\r\n        type={type}\r\n        fullWidth\r\n        onChange={(e) => {\r\n          if (onChangeHandler) {\r\n            onChangeHandler(e);\r\n          }\r\n          return input.onBlur(e.target.value)\r\n        }}\r\n        name={input.name}\r\n        error={!!error && touched}\r\n        helperText={helperText}\r\n        disabled={disabled}\r\n        InputProps={inputProps}\r\n      />\r\n      {\r\n        touched && error && <RenderErrors error={error} />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst textAreaField = ({input, label, type, meta: {touched, error}, required}) => {\r\n  return (\r\n    <div>\r\n      <TextField\r\n        defaultValue={input.value}\r\n        autoFocus={!!input.autofocus}\r\n        margin=\"dense\"\r\n        multiline\r\n        rows={2}\r\n        rowsMax={20}\r\n        id={input.id}\r\n        label={label + (required ? '*' : '')}\r\n        onChange={(e) => input.onBlur(e.target.value)}\r\n        fullWidth\r\n        name={input.name}\r\n        error={!!error && touched}\r\n      />\r\n      {\r\n        touched && error && <RenderErrors error={error} />\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nconst selectField = ({input, label, type, options, meta: {touched, error}}) => {\r\n  return (\r\n    <div>\r\n      <label htmlFor={input.name}>\r\n        {label}\r\n      </label>\r\n      <div>\r\n        <select {...input} placeholder={label}>\r\n          <option key=\"_none\" value=\"\" disabled hidden></option>\r\n          {\r\n            Object.entries(options).map(([key, value]) =>\r\n              (\r\n                <option key={key} value={key}>{value}</option>\r\n              )\r\n            )\r\n          }\r\n        </select>\r\n        {\r\n          touched && error && <RenderErrors error={error} />\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\n// We need to pass input property to FieldSelect, in order to access onBlur and\r\n// onChange callbacks, otherwise redux form will not update the value of this\r\n// react-select field.\r\nconst chosenSelectField = ({input, label, type, loading, disabled, defaultValue, options, meta: {touched, error}, onMount, required}) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.formControl}>\r\n      <FieldSelect\r\n        input={input}\r\n        name={input.name}\r\n        options={options}\r\n        isMulti={false}\r\n        multi={false}\r\n        placeholder={label}\r\n        label={label + (required ? '*' : '')}\r\n        error={!!error && touched}\r\n        onMount={onMount}\r\n        loading={loading}\r\n        disabled={disabled}\r\n        value={input.value || defaultValue}\r\n      />\r\n      {\r\n        touched && error && <RenderErrors error={error} />\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nconst chosenMultiSelectField = ({input, label, type, loading, disabled, defaultValue, options, meta: {touched, error}, onMount, required}) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.formControl}>\r\n      <div>\r\n        <FieldSelect\r\n          input={input}\r\n          name={input.name}\r\n          options={options}\r\n          isMulti={true}\r\n          multi={true}\r\n          placeholder={label}\r\n          label={label + (required ? '*' : '')}\r\n          error={!!error && touched}\r\n          onMount={onMount}\r\n          loading={loading}\r\n          disabled={disabled}\r\n          value={input.value || defaultValue}\r\n        />\r\n        {\r\n          touched && error && <RenderErrors error={error} />\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst checkBoxField = ({input, checked, label, type, meta: {touched, error}}) => {\r\n  return (\r\n    <div>\r\n      <FieldCheckbox\r\n        label={label}\r\n        name={input.name}\r\n        checked={input.value || checked}\r\n        onChange={input.onChange}\r\n      />\r\n      {\r\n        touched && error && <RenderErrors error={error} />\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nconst datePickerField = (props) => {\r\n  const {input, startDate, label, dateFormat, inputProps, meta: {touched, error}} = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.formControl}>\r\n      <DatePicker\r\n        {...props}\r\n        customInput={\r\n          <TextField\r\n            margin=\"dense\"\r\n            fullWidth\r\n            error={!!error && touched}\r\n            label={label}\r\n            InputProps={inputProps}\r\n          />\r\n        }\r\n        error={!!error && touched}\r\n        selected={input.value ? input.value : startDate}\r\n        onChange={date => input.onChange(date)}\r\n        dateFormat={dateFormat}\r\n      >\r\n      </DatePicker>\r\n      {\r\n        touched && error && <RenderErrors error={error} />\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nconst colorField = ({input, label, type, meta: {touched, error}}) => {\r\n  return (\r\n    <div>\r\n      <FieldColor\r\n        input={input}\r\n        name={input.name}\r\n        label={label}\r\n      />\r\n      {\r\n        touched && error && <RenderErrors error={error} />\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nconst fieldsGroupWrapper = ({children, input, label, type, meta: {touched, error}}) => {\r\n  return (\r\n    <div>\r\n      {children}\r\n      {\r\n        touched && error && <RenderErrors error={error} />\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nconst multiValueSelect = ({input, label, tableDefinition, labelProperties, groupOptionsBy, rawOptions, meta: {touched, error}}) => {\r\n  return (\r\n    <div>\r\n      <MultiValueSelect\r\n\t\t\t\tname={input.name}\r\n        onChange={input.onChange}\r\n        label={label}\r\n        tableDefinition={tableDefinition}\r\n        labelProperties={labelProperties}\r\n\t\t\t\trawOptions={rawOptions}\r\n\t\t\t\tgroupOptionsBy={groupOptionsBy}\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\nconst render = (props) => {\r\n  switch (props.type) {\r\n    case 'select':\r\n      return selectField(props);\r\n    case 'chosenSelect':\r\n      return chosenSelectField(props);\r\n    case 'chosenMultiSelect':\r\n      return chosenMultiSelectField(props);\r\n    case 'textarea':\r\n      return textAreaField(props);\r\n    case 'checkbox':\r\n      return checkBoxField(props);\r\n    case 'text':\r\n    case 'password':\r\n      return textField(props);\r\n    case 'datePicker':\r\n      return datePickerField(props);\r\n    case 'fieldsGroupWrapper':\r\n      return fieldsGroupWrapper(props);\r\n    case 'color':\r\n      return colorField(props);\r\n    case 'multiValueSelect':\r\n      console.log(props);\r\n      return multiValueSelect(props);\r\n    default:\r\n      return simpleField(props);\r\n  }\r\n};\r\n\r\nconst renderField = (props) => (\r\n  <div className=\"form-item\">\r\n    {\r\n      render(props)\r\n    }\r\n  </div>\r\n);\r\n\r\nexport {\r\n  renderField,\r\n  RenderErrors\r\n};\r\n"],"names":["FieldCheckbox","props","autobind","state","checked","e","onChange","setState","label","name","handleChange","React","Component","styles","theme","title","width","backgroundColor","colorField","display","flexDirection","colorDiv","marginTop","marginBottom","height","marginLeft","border","colorPicker","position","left","top","zIndex","colorWrapper","alignItems","notes","FieldColor","color","input","onBlur","hex","toggleColorPicker","target","value","openColorPicker","classes","placeholder","id","handleInputChange","handleColorChangeComplete","withStyles","useStyles","makeStyles","root","flexGrow","padding","valueContainer","flexWrap","flex","overflow","chip","margin","spacing","chipFocused","emphasize","palette","type","grey","noOptionsMessage","singleValue","fontSize","bottom","paper","right","divider","NoOptionsMessage","selectProps","innerProps","children","propTypes","PropTypes","node","object","isRequired","inputComponent","inputRef","oneOfType","func","Control","innerRef","TextFieldProps","inputProps","className","ref","Option","isFocused","fontWeight","isSelected","bool","Placeholder","SingleValue","ValueContainer","MultiValue","clsx","removeProps","onClick","Menu","components","IntegrationReactSelect","useTheme","useState","single","setSingle","multi","setMulti","loading","setLoading","useEffect","onMount","then","hasOwnProperty","isBoolean","handleChangeSingle","handleChangeMulti","selectStyles","base","text","primary","font","defaultValue","disabled","error","InputLabelProps","htmlFor","shrink","startAdornment","options","isMulti","progress","marginRight","SubmitButton","renderProgress","submitting","is_submitting","number","justifyContent","overlay","opacity","LoadingBox","CircularProgress","SectionHeader","colSpan","sectionLabel","defaultProps","colspan","string","Paginator","event","newPage","updatePaginationCallback","page","rowsPerPage","totalNumberOfEntities","handleChangePage","handleChangeRowsPerPage","useStyle","container","paddingTop","field","FieldPair","removeCallback","index","renderField","key","FormWrapper","Paper","addCircle","FilterFormField","TableFilterForm","filter","tableDefinition","map","isAdvanced","sortFields","Typography","renderPairs","fields","availableFields","remove","push","submittedData","Object","keys","element","Chip","fieldName","direction","handleChipDeleteForSort","_","isObject","values","handleChipDeleteForFilter","preventDefault","keyOfElementInSortPairs","sortPairs","indexOf","omit","onSubmit","arrayRemoveElement","keyChipToDelete","formValues","destroy","onResetCallback","defaultSort","isSubmitting","handleSubmit","renderBasicFilters","renderAdvancedFilters","onClickExpandHandler","renderChips","onCancel","mapStateToProps","ownProps","initialValues","mapDispatchToProps","dispatch","changeFieldValue","change","arrayRemove","reduxForm","form","connect","overflowX","row","background","CustomTableCell","head","common","black","white","body","TableCell","BasicTable","paginationInfo","fetchCallback","filterOptions","sort","paginatorInfo","_initialize","nextProps","nextState","nextContent","items","isArray","_generateTableDefinition","length","charAt","toLocaleUpperCase","slice","property","header","item","renderHeaderCell","renderRow","itemDefinition","rowDefinition","reduce","prev","next","isFunction","cellValue","getCellValue","renderCell","reloading","paginator","applyFilter","defaultSorts","onReset","Table","table","renderSectionHeader","renderHeader","renderBody","array","MultiValueSelect","concat","_tableActions","_handleRemove","removed_item","valueProperty","getFieldValue","updateFieldValue","exclusions","rawOptions","groupOptionsBy","filter_group","getSelectedGroup","groupOptions","option","processOption","getCurrentValue","refField","current","context","_reduxForm","selector","formValueSelector","createRef","group","rawOption","labelProperties","isString","join","forceUpdate","getGroupsFieldOptions","getOptions","selected_ids","generateTableDefinition","renderGroupedOptions","renderOptions","Button","formName","formControl","errorMessage","RenderErrors","message","simpleField","meta","touched","textField","helperText","onChangeHandler","required","autofocus","textAreaField","selectField","entries","chosenSelectField","FieldSelect","chosenMultiSelectField","checkBoxField","datePickerField","startDate","dateFormat","date","fieldsGroupWrapper","multiValueSelect","render","console","log"],"mappings":"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"}